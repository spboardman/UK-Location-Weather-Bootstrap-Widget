<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Uk-location-weather-bootstrap-widget : A PHP/XML based local weather forecast widget, offering a 5 day local forecast on your website. Data for the forecasts is from the Datapoint API service from the Met Office.">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Uk-location-weather-bootstrap-widget</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/spboardman/UK-Location-Weather-Bootstrap-Widget">View on GitHub</a>

          <h1 id="project_title">Uk-location-weather-bootstrap-widget</h1>
          <h2 id="project_tagline">A PHP/XML based local weather forecast widget, offering a 5 day local forecast on your website. Data for the forecasts is from the Datapoint API service from the Met Office.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/spboardman/UK-Location-Weather-Bootstrap-Widget/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/spboardman/UK-Location-Weather-Bootstrap-Widget/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="uk-weather-widget" class="anchor" href="#uk-weather-widget" aria-hidden="true"><span class="octicon octicon-link"></span></a>UK-Weather-Widget</h1>

<h2>
<a id="a-5-day-forecast-for-uk-location" class="anchor" href="#a-5-day-forecast-for-uk-location" aria-hidden="true"><span class="octicon octicon-link"></span></a>A 5 Day forecast for UK Location</h2>

<p>A PHP/XML based local weather forecast widget, offering a 5 day local forecast. Data for the forecasts is from the Datapoint API service from the Met Office. The widget as it is in this repository makes use of Bootstrap for layout and styling purposes, but you can do your own thing with the data if required.</p>

<h2>
<a id="demo" class="anchor" href="#demo" aria-hidden="true"><span class="octicon octicon-link"></span></a>Demo</h2>

<p>you can find a working demo here: <a href="https://www.doncasterdiary.co.uk/doncaster-weather/">https://www.doncasterdiary.co.uk/doncaster-weather/</a></p>

<h2>
<a id="weather-data-available" class="anchor" href="#weather-data-available" aria-hidden="true"><span class="octicon octicon-link"></span></a>Weather Data Available</h2>

<p>Your chosen location has the following weather forecast data available for it in 3-hourly intervals out to five days:</p>

<ul>
<li>Wind direction (16 point compass)</li>
<li>Wind speed (mph)</li>
<li>Screen temperature (degrees Celsius)</li>
<li>Weather Type (weather ID)</li>
<li>Visibility (code)</li>
<li>Screen relative humidity (%)</li>
<li>Wind gust (mph)</li>
<li>Feels like temperature (degrees Celsius)</li>
<li>UV Index (code)</li>
<li>Precipitation Probability (%)</li>
</ul>

<h2>
<a id="requirements" class="anchor" href="#requirements" aria-hidden="true"><span class="octicon octicon-link"></span></a>Requirements</h2>

<ul>
<li>
<h4>
<a id="met-office-datapoint-api-key" class="anchor" href="#met-office-datapoint-api-key" aria-hidden="true"><span class="octicon octicon-link"></span></a>Met Office Datapoint API Key</h4>

<p>This is freely available and can be obtained by registering here: <a href="http://www.metoffice.gov.uk/datapoint/API">http://www.metoffice.gov.uk/datapoint/API</a></p>
</li>
<li>
<h4>
<a id="php-web-server" class="anchor" href="#php-web-server" aria-hidden="true"><span class="octicon octicon-link"></span></a>PHP web server</h4>

<p>This weather widget requires PHP to be available on your server.</p>
</li>
<li>
<h4>
<a id="simplexml" class="anchor" href="#simplexml" aria-hidden="true"><span class="octicon octicon-link"></span></a>SimpleXML</h4>

<p>SimpleXML must be available on your server. 
To test if SimpleXML is installed and available, use the simplexmltest.php file in this repository. Instructions are in the file. 
More info on SimpleXML here: <a href="http://php.net/manual/en/book.simplexml.php">http://php.net/manual/en/book.simplexml.php</a></p>
</li>
<li>
<h4>
<a id="bootstrap" class="anchor" href="#bootstrap" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bootstrap</h4>

<p>For the layout and styling of the widget, you need to have Bootstrap set up correctly on the website you intend to use this widget on. You can remove the Bootstrap specific classes and ID's if you don't wish to make use of Bootstrap though. 
More info on Bootstrap here: <a href="http://getbootstrap.com/">http://getbootstrap.com/</a></p>
</li>
<li>
<h4>
<a id="jquery" class="anchor" href="#jquery" aria-hidden="true"><span class="octicon octicon-link"></span></a>jQuery</h4>

<p>If you wish to make use of Bootstrap, you also have to include jQuery on the website you intend to use this widget on.
More info on jQuery here: <a href="http://jquery.com/">http://jquery.com/</a></p>
</li>
<li>
<h4>
<a id="ability-to-set-a-cron-job-on-your-server" class="anchor" href="#ability-to-set-a-cron-job-on-your-server" aria-hidden="true"><span class="octicon octicon-link"></span></a>Ability to set a cron job on your server</h4>

<p>This is required to automatically update the XML weather data feed. More info on cron here: <a href="http://en.wikipedia.org/wiki/Cron">http://en.wikipedia.org/wiki/Cron</a></p>
</li>
</ul>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>USAGE</h2>

<ol>
<li>Obtain your datapoint api key from the met office website at <a href="http://www.metoffice.gov.uk/datapoint/api">http://www.metoffice.gov.uk/datapoint/api</a>
</li>
<li>Find the location code that you wish to use for your forecasts. You can find the location code by visiting <a href="http://data.gov.uk/metoffice-data-archive">http://data.gov.uk/metoffice-data-archive</a> and then using the site code dropdown to find your location. You need the number code that is shown alongside the name of the location. This is needed in the next step.</li>
<li>Open the weatherupdate.php file and add the location code on line 6 where it is indicated</li>
<li>Whilst in the weatherupdate.php file add your datapoint api key on line 6 where it is indicated.</li>
<li>Amend line 9 of the weatherupdate.php file editing the relative path to the weather.xml file depending on where you upload it to.</li>
<li>Save this file</li>
<li>Cut and paste the weather.php file contents into a php web page for your site, ensuring that this webpage has bootstrap css &amp; js along with jquery included. You can remove bootstrap specific elements and styling if you wish but you must then style the widget yourself. You need to ensure that the url for the weather.xml file on line 14 is correct dependent on where you upload this file to on your server</li>
<li>If you upload the files and folders to a location other than in the root, you need to change the url's for the images and background in the weatherstyle.css and weather.php files to correctly point at the correct weather image folder and subfolders.</li>
<li>Ensure that the weather.xml has the correct write permissions so it can be written to by the weatherupdate.php script. i found setting 0755 permission to work well but this need tweaking for different server configs.</li>
<li>Test that the weatherupdate.php script is working and updating correctly. You can do so by navigating to <a href="http://yourdomain.com/weatherupdate.php">http://yourdomain.com/weatherupdate.php</a>. If successful, your weather.xml file should contain the latest data. it can take a few moments to run the update.</li>
<li>Create a cron job to run the weatherupdate.php script every three hours</li>
<li>Finish any css styling as you require, Iâ€™ve provided a base from which you can work if you like.</li>
</ol>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Uk-location-weather-bootstrap-widget maintained by <a href="https://github.com/spboardman">spboardman</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
